# quorum-ai Default Configuration
# Copy this file to .quorum.yaml in your project root

# Logging configuration
log:
  # Log level: debug, info, warn, error
  level: info
  # Output format: auto (detect TTY), text, json
  format: auto
  # Optional log file path (empty = stdout only)
  file: ""

# Workflow execution settings
workflow:
  # Maximum workflow execution time
  timeout: 2h
  # Maximum retry attempts per task
  max_retries: 3
  # Dry-run mode (simulate without executing)
  dry_run: false
  # Sandbox mode (restrict dangerous operations)
  sandbox: false
  # Tools to deny during execution
  deny_tools: []

# Agent configuration
agents:
  # Default agent for analysis tasks
  default: claude

  # Claude Code CLI configuration
  claude:
    enabled: true
    # Path to claude CLI executable
    path: claude
    # Default model
    model: claude-sonnet-4-20250514
    # Optional per-phase model overrides (analyze/plan/execute)
    phase_models:
      analyze: claude-opus-4-20250514
      plan: claude-sonnet-4-20250514
      execute: claude-3-5-haiku-20241022
    # Maximum output tokens
    max_tokens: 4096
    # Temperature (0.0-2.0)
    temperature: 0.7

  # Gemini CLI configuration
  gemini:
    enabled: true
    path: gemini
    model: gemini-2.5-flash
    phase_models:
      analyze: gemini-2.5-pro
      plan: gemini-2.5-flash
      execute: gemini-2.5-flash
    max_tokens: 4096
    temperature: 0.7

  # OpenAI Codex CLI configuration (optional)
  codex:
    enabled: true
    path: codex
    model: gpt-5.1-codex
    phase_models:
      analyze: gpt-5.1-codex
      plan: gpt-5.1-codex
      execute: gpt-5.1-codex-mini
    max_tokens: 4096
    temperature: 0.7

  # GitHub Copilot CLI configuration (optional)
  copilot:
    enabled: false
    path: gh copilot
    model: ""
    phase_models: {}
    max_tokens: 4096
    temperature: 0.7

  # Aider CLI configuration (optional)
  aider:
    enabled: false
    path: aider
    model: gpt-4
    phase_models: {}
    max_tokens: 4096
    temperature: 0.7

# State persistence configuration
state:
  # Path to state file (relative to project root)
  path: .quorum/state/state.json
  # Path to backup file
  backup_path: .quorum/state/state.json.bak
  # Lock file TTL before considered stale
  lock_ttl: 1h

# Git configuration
git:
  # Directory for git worktrees
  worktree_dir: .worktrees
  # Auto-cleanup completed worktrees
  auto_clean: true

# GitHub integration
github:
  # GitHub token (prefer GITHUB_TOKEN env var)
  token: ""
  # Remote name
  remote: origin

# Consensus configuration
consensus:
  # Minimum consensus score to proceed (0.0-1.0)
  threshold: 0.75
  # Category weights for Jaccard similarity
  weights:
    # Weight for claims/findings (40%)
    claims: 0.40
    # Weight for risks/concerns (30%)
    risks: 0.30
    # Weight for recommendations (30%)
    recommendations: 0.30

# Cost limits
costs:
  # Maximum USD per workflow (0 = unlimited)
  max_per_workflow: 10.0
  # Maximum USD per task (0 = unlimited)
  max_per_task: 2.0
  # Alert threshold (warn when approaching limit)
  alert_threshold: 0.80

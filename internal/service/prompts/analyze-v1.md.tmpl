# Analysis Request

## User Prompt
{{.Prompt}}

## Project Context
{{.Context}}

## Context Management

Your context is limited. Optimize its use with these strategies:

1. **Locate before reading**
   - Use grep/ripgrep to find relevant files before reading them completely
   - Use glob to identify file patterns (e.g.: `*_test.go`, `*/handlers/*.ts`)

2. **Selective reading**
   - If a file >300 lines, read only the relevant sections (line ranges)
   - Extract specific functions/classes, not entire files
   - Prioritize: interfaces > implementations, public > private

3. **Delegation**
   - For deep exploration of subsystems, use sub-agents or background tasks
   - Each sub-task should return a summary, not raw content

4. **Progressive synthesis**
   - Summarize findings immediately after each reading
   - Do not accumulate raw content in your context
   - Maintain a mental index: file → purpose → key finding

5. **Prioritization**
   - Start with entry points and configuration
   - Follow dependencies only when necessary
   - Ignore generated files, vendors, and node_modules

## Instructions

Analyze the codebase **exhaustively and in depth**. Your analysis must:

1. **Investigate the code** - Read files, understand the architecture, identify patterns
2. **Ground each statement** - Cite specific files and lines as evidence
3. **Identify real risks** - Based on code, not assumptions
4. **Propose actionable recommendations** - Specific and prioritized

**Do not omit any relevant aspect.** Provide a complete and detailed analysis with specific code evidence. Generate your analysis in markdown format, structuring it with the sections you consider most appropriate to communicate your findings clearly and effectively.

{{if .Constraints}}
## Constraints
{{range .Constraints}}- {{.}}
{{end}}{{end}}
{{if .OutputFilePath}}

---
## Output Location

Write your complete analysis to the following file:

```
{{.OutputFilePath}}
```

**IMPORTANT - File format:**
- Write ONLY the analysis content in markdown
- DO NOT add YAML frontmatter (`---` ... `---` blocks at the beginning)
- DO NOT add metadata, file headers, or system information
- DO NOT include markers like `# File:` or file comments
- Content must start directly with your analysis

Use your file writing tool to create this markdown document.
{{end}}

# Task Execution

## Task Details
- **ID:** {{.Task.ID}}
- **Name:** {{.Task.Name}}
- **Description:** {{.Task.Description}}
- **Phase:** {{.Task.Phase}}

## Working Directory
{{.WorkDir}}

## Context
{{.Context}}

{{if .Constraints}}
## Constraints
{{range .Constraints}}- {{.}}
{{end}}{{end}}

## CRITICAL: Scope Adherence

**IMPORTANT**: The task description above contains **ALL** the information and context you need to complete this task.

- **DO NOT** make changes outside the scope defined in the task description
- **DO NOT** add features or improvements not explicitly requested
- **DO NOT** assume or invent requirements not mentioned
- **DO** follow the task description exactly as written
- **DO** implement only what is explicitly requested
- **DO** ask for clarification if the task description is ambiguous (report as blocker)

The task description was carefully crafted to be self-contained. Trust it as your single source of truth.

## Context Management (CRITICAL)

Your context window is finite and expensive. Follow these rules strictly to avoid exhaustion:

### Reading Files
- **Search before reading**: Use grep/glob to locate exact files and lines BEFORE reading
- **Targeted reads**: Read only the specific line ranges you need (use offset/limit)
- **Never read the same file twice**: Cache the information mentally after first read
- **Skip large files**: If a file is >500 lines, read only the relevant sections

### Making Changes
- **One edit at a time**: Complete and verify each modification before starting the next
- **Minimal diffs**: Change only what's necessary - don't reformat or "clean up" surrounding code
- **No speculative reads**: Don't read files "just in case" - read only when you have a specific need

### Responses
- **Be concise**: Explain what you did in 1-2 sentences, not paragraphs
- **Reference by line**: Say "modified line 45" instead of showing the full code block
- **No code dumps**: Never include full file contents in your responses
- **Skip obvious details**: Don't explain standard patterns or boilerplate

### Tool Efficiency
- **Batch searches**: Combine multiple grep patterns when possible
- **Parallel reads**: Read related files together if you know you need them
- **Early termination**: Stop searching once you find what you need

### If Context Gets Low
- Complete the current sub-task and save progress
- Report partial completion with clear next steps
- Do NOT try to rush through remaining work

## Instructions

Execute the task described above. Follow these guidelines:
1. Make minimal, focused changes as specified in the task
2. Ensure code compiles and tests pass
3. Document any significant decisions
4. Report any blockers or issues (especially if task description is unclear)

## Response Format
```json
{
  "status": "completed|failed|blocked",
  "changes": [
    {
      "file": "path/to/file",
      "action": "create|modify|delete",
      "description": "what changed"
    }
  ],
  "notes": "Any additional context",
  "blockers": []
}
```
